@model PBL3.ViewModels.Chapter.ChapterEditViewModel
@{
    ViewData["Title"] = "Edit Chapter";
    Layout = "~/Views/Shared/_ChapterEditorLayout.cshtml";
    ViewBag.StoryID = Model.StoryID;
	ViewBag.ChapterID = Model.ChapterID;
	ViewBag.ChapterStatus = Model.ChapterStatus.ToString();
}

<h2>@ViewData["Title"]</h2>

<form asp-action="EditChapter" method="post">
    @Html.AntiForgeryToken()

    @Html.HiddenFor(m => m.ChapterID)
    @Html.HiddenFor(m => m.StoryID)

    <div class="mb-3">
        @Html.LabelFor(m => m.Title, htmlAttributes: new { @class = "form-label" })
        @Html.TextBoxFor(m => m.Title, new { @class = "form-control", placeholder = "Enter chapter title..." })
        @Html.ValidationMessageFor(m => m.Title, "", new { @class = "text-danger" })
    </div>

    <div class="mb-3">
        @Html.LabelFor(m => m.Content, htmlAttributes: new { @class = "form-label" })
        @Html.TextAreaFor(m => m.Content, new { @class = "form-control", rows = 15, placeholder = "Edit your chapter content..." })
        @Html.ValidationMessageFor(m => m.Content, "", new { @class = "text-danger" })
    </div>

    <button type="submit" class="btn btn-primary">Save Changes</button>
</form>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
