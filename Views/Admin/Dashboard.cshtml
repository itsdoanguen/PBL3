@model PBL3.ViewModels.Admin.AdminDashboardViewModel
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@{
    ViewData["Title"] = Localizer["Admin Dashboard"];
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
<link rel="stylesheet" href="~/css/admin-dashboard.css" />
<div class="admin-dashboard-container">
    <h2 class="mb-4">@Localizer["Admin Dashboard"]</h2>
    <!-- Section 1: Tổng quan hệ thống -->
    <section class="dashboard-section card mb-4">
        <div class="card-header"><h4>@Localizer["System Overview"]</h4></div>
        <div class="card-body overview-grid">
            <div class="overview-item">
                <div class="overview-title">@Localizer["Total Users"]</div>
                <div class="overview-value">@Model.TotalUsers</div>
            </div>
            <div class="overview-item">
                <div class="overview-title">@Localizer["Total Stories"]</div>
                <div class="overview-value">@Model.TotalStories</div>
            </div>
            <div class="overview-item">
                <div class="overview-title">@Localizer["Total Chapters"]</div>
                <div class="overview-value">@Model.TotalChapters</div>
            </div>
            <div class="overview-item">
                <div class="overview-title">@Localizer["Total Comments"]</div>
                <div class="overview-value">@Model.TotalComments</div>
            </div>
            <div class="overview-item">
                <div class="overview-title">@Localizer["Total Reports"]</div>
                <div class="overview-value">@Model.TotalReports</div>
            </div>
        </div>
    </section>
    <!-- Section 2: Thống kê người dùng -->
    <section class="dashboard-section card mb-4">
        <div class="card-header"><h4>@Localizer["User Statistics"]</h4></div>
        <div class="card-body row">
            <div class="col-md-4 stat-box">
                <div class="stat-label">@Localizer["Admin"]</div>
                <div class="stat-value">@Model.TotalAdmins</div>
            </div>
            <div class="col-md-4 stat-box">
                <div class="stat-label">@Localizer["Moderator"]</div>
                <div class="stat-value">@Model.TotalModerators</div>
            </div>
            <div class="col-md-4 stat-box">
                <div class="stat-label">@Localizer["Normal Users"]</div>
                <div class="stat-value">@Model.TotalNormalUsers</div>
            </div>
            <div class="col-12 mt-3">
                <span class="badge bg-info">@string.Format(Localizer["New Users 7 Days"].Value, Model.NewUsersLast7Days)</span>
            </div>
        </div>
    </section>
    <!-- Section 3: Thống kê truyện -->
    <section class="dashboard-section card mb-4">
        <div class="card-header"><h4>@Localizer["Story Statistics"]</h4></div>
        <div class="card-body row">
            <div class="col-md-3 stat-box">
                <div class="stat-label">@Localizer["Active Stories"]</div>
                <div class="stat-value text-success">@Model.ActiveStories</div>
            </div>
            <div class="col-md-3 stat-box">
                <div class="stat-label">@Localizer["Completed Stories"]</div>
                <div class="stat-value text-primary">@Model.CompletedStories</div>
            </div>
            <div class="col-md-3 stat-box">
                <div class="stat-label">@Localizer["Review Pending Stories"]</div>
                <div class="stat-value text-warning">@Model.ReviewPendingStories</div>
            </div>
            <div class="col-md-3 stat-box">
                <div class="stat-label">@Localizer["Locked Stories"]</div>
                <div class="stat-value text-danger">@Model.LockedStories</div>
            </div>
        </div>
    </section>
</div>
@section Scripts {
    <script src="~/js/admin-dashboard.js"></script>
}
