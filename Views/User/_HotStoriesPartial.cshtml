@model List<PBL3.ViewModels.User.StoryViewModel>
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer Localizer

@foreach (var story in Model)
{
    <div class="story-item">
        <div class="story-image">
            <img src="@story.CoverImageUrl" alt="@story.Title" loading="lazy" 
                 onerror="this.src='/image/default-cover.jpg';">
            <div class="story-badges">
                @if (story.IsHot)
                {
                    <span class="badge badge-hot">Hot</span>
                }
                @if (story.IsNew)
                {
                    <span class="badge badge-new">New</span>
                }
                @if (story.IsCompleted)
                {
                    <span class="badge badge-complete">@Localizer["Complete"]</span>
                }
            </div>
            <div class="story-overlay">
                <a asp-controller="Story" asp-action="View" asp-route-id="@story.Id" class="btn-read">
                    <i class="fas fa-book-open"></i>
                    <span>@Localizer["ReadNow"]</span>
                </a>
            </div>
            <div class="view-count">
                <i class="fas fa-eye"></i>
                <span>@Localizer["ViewCount", story.ViewCount.ToString("N0")]</span>
            </div>
        </div>
        <div class="story-info">
            <h4 class="story-title">@story.Title</h4>
            <p class="story-author">@story.AuthorName</p>
            <div class="story-stats">
                <span><i class="fas fa-eye"></i> @Localizer["ViewCount", story.ViewCount.ToString("N0")]</span>
                <span><i class="fas fa-heart"></i> @Localizer["LikeCount", story.LikeCount]</span>
                <span><i class="fas fa-book"></i> @Localizer["ChapterCount", story.ChapterCount]</span>
            </div>
        </div>
    </div>
} 